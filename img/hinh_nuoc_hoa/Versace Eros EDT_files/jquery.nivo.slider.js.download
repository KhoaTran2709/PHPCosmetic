/*
 * Nivo slider with nice caption effect
 * Copyright: yourbestcode.com
 * Email: support@yourbestcode.com
 */

!function(t){var a=function(a,i){var e=t.extend({},t.fn.nivoSlider.defaults,i),n={currentSlide:0,currentImage:"",totalSlides:0,running:!1,paused:!1,stop:!1,controlNavEl:!1};e.pauseTime+=4e3;var r=t(a);r.data("nivo:vars",n).addClass("nivoSlider");var o=r.children();o.each(function(){var a=t(this),i="";a.is("img")||(a.is("a")&&(a.addClass("nivo-imageLink"),i=a),a=a.find("img:first"));var e=0===e?a.attr("width"):a.width(),r=0===r?a.attr("height"):a.height();""!==i&&i.css("display","none"),a.css("display","none"),n.totalSlides++}),e.randomStart&&(e.startSlide=Math.floor(Math.random()*n.totalSlides)),e.startSlide>0&&(e.startSlide>=n.totalSlides&&(e.startSlide=n.totalSlides-1),n.currentSlide=e.startSlide),t(o[n.currentSlide]).is("img")?n.currentImage=t(o[n.currentSlide]):n.currentImage=t(o[n.currentSlide]).find("img:first"),t(o[n.currentSlide]).is("a")&&t(o[n.currentSlide]).css("display","block");var c=t("<img/>").addClass("nivo-main-image");c.attr("src",n.currentImage.attr("src")).show(),r.append(c),t(window).resize(function(){r.children("img").width(r.width()),c.attr("src",n.currentImage.attr("src")),c.stop().height("auto"),t(".nivo-slice").remove(),t(".nivo-box").remove(),d()}),r.append(t('<div class="ybc-caption-wrapper"></div>'));var s=function(a){var i=void 0!=n.currentImage.attr("data-caption-animate")&&""!=n.currentImage.attr("data-caption-animate")?n.currentImage.attr("data-caption-animate"):"random",e=void 0!=n.currentImage.attr("data-button_link")&&""!=n.currentImage.attr("data-button_link")?n.currentImage.attr("data-button_link"):"#",r=void 0!=n.currentImage.attr("data-caption1")&&""!=n.currentImage.attr("data-caption1")?'<div class="caption1 ybc-caption-type"><span class="caption-span">'+("type4"==i?l(n.currentImage.attr("data-caption1"),!0):l(n.currentImage.attr("data-caption1"),!1))+"</span></div>":"",o=void 0!=n.currentImage.attr("data-caption2")&&""!=n.currentImage.attr("data-caption2")?'<div class="caption2 ybc-caption-type"><span class="caption-span">'+("type4"==i?l(n.currentImage.attr("data-caption2"),!0):l(n.currentImage.attr("data-caption2"),!1))+"</span></div>":"";if(""!=t(".ybc-nivo-description-"+n.currentImage.attr("data-id-slide")).html())var c='<div class="caption4 ybc-caption-type"><span class="caption-span">'+t(".ybc-nivo-description-"+n.currentImage.attr("data-id-slide")).html()+"</span></div>";else var c="";var s=void 0!=n.currentImage.attr("data-caption3")&&""!=n.currentImage.attr("data-caption3")?'<div class="caption3 ybc-caption-type"><a class="btn button_nivo" href="'+e+'">'+n.currentImage.attr("data-caption3")+"</a></div>":"",p=void 0!=n.currentImage.attr("data-text-direction")&&""!=n.currentImage.attr("data-text-direction")?"ybc-caption-text-"+n.currentImage.attr("data-text-direction"):"ybc-caption-text-left",m=void 0!=n.currentImage.attr("data-caption-top")&&""!=n.currentImage.attr("data-caption-top")?n.currentImage.attr("data-caption-top"):"0",u=void 0!=n.currentImage.attr("data-caption-left")&&""!=n.currentImage.attr("data-caption-left")?n.currentImage.attr("data-caption-left"):"0",v=void 0!=n.currentImage.attr("data-caption-right")&&""!=n.currentImage.attr("data-caption-right")?n.currentImage.attr("data-caption-right"):"0",h=void 0!=n.currentImage.attr("data-caption-position")&&""!=n.currentImage.attr("data-caption-position")?"ybc-caption-position-"+n.currentImage.attr("data-caption-position"):"ybc-caption-position-left",g=void 0!=n.currentImage.attr("data-caption-width")&&""!=n.currentImage.attr("data-caption-width")?n.currentImage.attr("data-caption-width"):"40%",f=void 0!=n.currentImage.attr("data-custom_class")&&""!=n.currentImage.attr("data-custom_class")?n.currentImage.attr("data-custom_class"):"";if(""!=r||""!=o||""!=s||""!=c){var x='<div class="ybc-caption-frame animation-type-'+i+" "+f+'" style="width:'+a.textFrameWidth+';"><div class="ybc-caption '+h+" "+p+'" style="padding-top: '+m+";margin-left: "+u+";margin-right: "+v+"; width: "+g+';">'+r+o+c+s+"</div></div>";t(".ybc-caption-wrapper").html(x),t(".ybc-caption-wrapper").stop().show()}else t(".ybc-caption-wrapper").stop().fadeOut(a.animSpeed);t(".ybc-caption-type").length>0&&t(".ybc-caption-type").each(function(){t(this).attr("data-font-size",parseInt(t(this).css("font-size").replace("px"))),t(this).attr("data-padding-top",parseInt(t(this).css("padding-top").replace("px"))),t(this).attr("data-padding-bottom",parseInt(t(this).css("padding-bottom").replace("px")))}),t(".ybc-caption-type").length>0&&t(".ybc-caption-type").each(function(){var a=t(this).hasClass("caption2");if(t(this).find(".char_class").length>0){var i=0;t(this).find(".char_class").each(function(){i++;var e=a?.2*i:.1*i;t(this).attr("style","-webkit-animation-delay: "+e+"s;animation-delay: "+e+"s;")})}}),d()},d=function(){if(t(".ybc-caption-type").length>0){var a=parseInt(t(window).width())/1366;t(".ybc-caption-type").each(function(){t(this).css("font-size",Math.round(parseInt(t(this).data("font-size"))*a)+"px"),t(this).css("padding-top",Math.round(parseInt(t(this).data("padding-top"))*a)+"px"),t(this).css("padding-bottom",Math.round(parseInt(t(this).data("padding-bottom"))*a)+"px")})}},l=function(t,a){var i=t.split(" "),e=i.length,n="";if(!(e>0))return t;if(!(e>0))return t;for(ik=0;ik<e;ik++){if(0==ik&&(n+='<span class="main_color">'),a){var r=i[ik].trim().split("");r.length>0&&(n+='<span class="char_class">'+r.join('</span><span class="char_class">')+"</span>")}else n+=i[ik];0==ik&&(n+="</span>"),n+=" "}return n};s(e),!e.manualAdvance&&o.length>1&&setTimeout(function(){t(".ybc-caption-frame").addClass("fading-out")},e.pauseTime-4e3);var p=0,m=0;if(!e.manualAdvance&&o.length>1&&(p=setInterval(function(){setTimeout(function(){t(".ybc-caption-frame").addClass("fading-out")},e.pauseTime-4e3),f(r,o,e,!1)},e.pauseTime)),e.directionNav&&(r.append('<div class="nivo-directionNav"><a class="nivo-prevNav">'+e.prevText+'</a><a class="nivo-nextNav">'+e.nextText+"</a></div>"),t(r).on("click","a.nivo-prevNav",function(){return n.running?!1:(clearInterval(p),p="",clearInterval(m),m="",n.currentSlide-=2,void f(r,o,e,"prev"))}),t(r).on("click","a.nivo-nextNav",function(){return n.running?!1:(clearInterval(p),p="",clearInterval(m),m="",void f(r,o,e,"next"))})),e.controlNav){n.controlNavEl=t('<div class="nivo-controlNav"></div>'),r.after(n.controlNavEl);for(var u=0;u<o.length;u++)if(e.controlNavThumbs){n.controlNavEl.addClass("nivo-thumbs-enabled");var v=o.eq(u);v.is("img")||(v=v.find("img:first")),v.attr("data-thumb")&&n.controlNavEl.append('<a class="nivo-control" rel="'+u+'"><img src="'+v.attr("data-thumb")+'" alt="" /></a>')}else n.controlNavEl.append('<a class="nivo-control" rel="'+u+'">'+(u+1)+"</a>");t("a:eq("+n.currentSlide+")",n.controlNavEl).addClass("active"),t("a",n.controlNavEl).bind("click",function(){return n.running?!1:t(this).hasClass("active")?!1:(clearInterval(p),p="",clearInterval(m),m="",c.attr("src",n.currentImage.attr("src")),n.currentSlide=t(this).attr("rel")-1,void f(r,o,e,"control"))})}r.bind("nivo:animFinished",function(){c.attr("src",n.currentImage.attr("src")),n.running=!1,t(o).each(function(){t(this).is("a")&&t(this).css("display","none")}),t(o[n.currentSlide]).is("a")&&t(o[n.currentSlide]).css("display","block"),""!==p||n.paused||e.manualAdvance||(p=setInterval(function(){setTimeout(function(){t(".ybc-caption-frame").addClass("fading-out")},e.pauseTime-4e3),f(r,o,e,!1)},e.pauseTime)),e.afterChange.call(this),s(e)});var h=function(a,i,e){t(e.currentImage).parent().is("a")&&t(e.currentImage).parent().css("display","block"),t('img[src="'+e.currentImage.attr("src")+'"]',a).not(".nivo-main-image,.nivo-control img").width(a.width()).css("visibility","hidden").show();for(var n=t('img[src="'+e.currentImage.attr("src")+'"]',a).not(".nivo-main-image,.nivo-control img").parent().is("a")?t('img[src="'+e.currentImage.attr("src")+'"]',a).not(".nivo-main-image,.nivo-control img").parent().height():t('img[src="'+e.currentImage.attr("src")+'"]',a).not(".nivo-main-image,.nivo-control img").height(),r=0;r<i.slices;r++){var o=Math.round(a.width()/i.slices);r===i.slices-1?a.append(t('<div class="nivo-slice" name="'+r+'"><img src="'+e.currentImage.attr("src")+'" style="position:absolute; width:'+a.width()+"px; height:auto; display:block !important; top:0; left:-"+(o+r*o-o)+'px;" /></div>').css({left:o*r+"px",width:a.width()-o*r+"px",height:n+"px",opacity:"0",overflow:"hidden"})):a.append(t('<div class="nivo-slice" name="'+r+'"><img src="'+e.currentImage.attr("src")+'" style="position:absolute; width:'+a.width()+"px; height:auto; display:block !important; top:0; left:-"+(o+r*o-o)+'px;" /></div>').css({left:o*r+"px",width:o+"px",height:n+"px",opacity:"0",overflow:"hidden"}))}t(".nivo-slice",a).height(n),c.stop().animate({height:t(e.currentImage).height()},i.animSpeed)},g=function(a,i,e){t(e.currentImage).parent().is("a")&&t(e.currentImage).parent().css("display","block"),t('img[src="'+e.currentImage.attr("src")+'"]',a).not(".nivo-main-image,.nivo-control img").width(a.width()).css("visibility","hidden").show();for(var n=Math.round(a.width()/i.boxCols),r=Math.round(t('img[src="'+e.currentImage.attr("src")+'"]',a).not(".nivo-main-image,.nivo-control img").height()/i.boxRows),o=0;o<i.boxRows;o++)for(var s=0;s<i.boxCols;s++)s===i.boxCols-1?(a.append(t('<div class="nivo-box" name="'+s+'" rel="'+o+'"><img src="'+e.currentImage.attr("src")+'" style="position:absolute; width:'+a.width()+"px; height:auto; display:block; top:-"+r*o+"px; left:-"+n*s+'px;" /></div>').css({opacity:0,left:n*s+"px",top:r*o+"px",width:a.width()-n*s+"px"})),t('.nivo-box[name="'+s+'"]',a).height(t('.nivo-box[name="'+s+'"] img',a).height()+"px")):(a.append(t('<div class="nivo-box" name="'+s+'" rel="'+o+'"><img src="'+e.currentImage.attr("src")+'" style="position:absolute; width:'+a.width()+"px; height:auto; display:block; top:-"+r*o+"px; left:-"+n*s+'px;" /></div>').css({opacity:0,left:n*s+"px",top:r*o+"px",width:n+"px"})),t('.nivo-box[name="'+s+'"]',a).height(t('.nivo-box[name="'+s+'"] img',a).height()+"px"));c.stop().animate({height:t(e.currentImage).height()},i.animSpeed)},f=function(a,i,e,n){t(".ybc-caption-wrapper").html("");var r=a.data("nivo:vars");if(r&&r.currentSlide===r.totalSlides-1&&e.lastSlide.call(this),(!r||r.stop)&&!n)return!1;e.beforeChange.call(this),n?("prev"===n&&c.attr("src",r.currentImage.attr("src")),"next"===n&&c.attr("src",r.currentImage.attr("src"))):c.attr("src",r.currentImage.attr("src")),r.currentSlide++,r.currentSlide===r.totalSlides&&(r.currentSlide=0,e.slideshowEnd.call(this)),r.currentSlide<0&&(r.currentSlide=r.totalSlides-1),t(i[r.currentSlide]).is("img")?r.currentImage=t(i[r.currentSlide]):r.currentImage=t(i[r.currentSlide]).find("img:first"),e.controlNav&&(t("a",r.controlNavEl).removeClass("active"),t("a:eq("+r.currentSlide+")",r.controlNavEl).addClass("active")),t(".nivo-slice",a).remove(),t(".nivo-box",a).remove();var o=e.effect,s="";"random"===e.effect&&(s=new Array("sliceDownRight","sliceDownLeft","sliceUpRight","sliceUpLeft","sliceUpDown","sliceUpDownLeft","fold","fade","boxRandom","boxRain","boxRainReverse","boxRainGrow","boxRainGrowReverse"),o=s[Math.floor(Math.random()*(s.length+1))],void 0===o&&(o="fade")),-1!==e.effect.indexOf(",")&&(s=e.effect.split(","),o=s[Math.floor(Math.random()*s.length)],void 0===o&&(o="fade")),r.currentImage.attr("data-transition")&&(o=r.currentImage.attr("data-transition")),r.running=!0;var d=0,l=0,p="",m="",u="",v="";if("sliceDown"===o||"sliceDownRight"===o||"sliceDownLeft"===o)h(a,e,r),d=0,l=0,p=t(".nivo-slice",a),"sliceDownLeft"===o&&(p=t(".nivo-slice",a)._reverse()),p.each(function(){var i=t(this);i.css({top:"0px"}),l===e.slices-1?setTimeout(function(){i.animate({opacity:"1.0"},e.animSpeed,"",function(){a.trigger("nivo:animFinished")})},100+d):setTimeout(function(){i.animate({opacity:"1.0"},e.animSpeed)},100+d),d+=50,l++});else if("sliceUp"===o||"sliceUpRight"===o||"sliceUpLeft"===o)h(a,e,r),d=0,l=0,p=t(".nivo-slice",a),"sliceUpLeft"===o&&(p=t(".nivo-slice",a)._reverse()),p.each(function(){var i=t(this);i.css({bottom:"0px"}),l===e.slices-1?setTimeout(function(){i.animate({opacity:"1.0"},e.animSpeed,"",function(){a.trigger("nivo:animFinished")})},100+d):setTimeout(function(){i.animate({opacity:"1.0"},e.animSpeed)},100+d),d+=50,l++});else if("sliceUpDown"===o||"sliceUpDownRight"===o||"sliceUpDownLeft"===o){h(a,e,r),d=0,l=0;var f=0;p=t(".nivo-slice",a),"sliceUpDownLeft"===o&&(p=t(".nivo-slice",a)._reverse()),p.each(function(){var i=t(this);0===l?(i.css("top","0px"),l++):(i.css("bottom","0px"),l=0),f===e.slices-1?setTimeout(function(){i.animate({opacity:"1.0"},e.animSpeed,"",function(){a.trigger("nivo:animFinished")})},100+d):setTimeout(function(){i.animate({opacity:"1.0"},e.animSpeed)},100+d),d+=50,f++})}else if("fold"===o)h(a,e,r),d=0,l=0,t(".nivo-slice",a).each(function(){var i=t(this),n=i.width();i.css({top:"0px",width:"0px"}),l===e.slices-1?setTimeout(function(){i.animate({width:n,opacity:"1.0"},e.animSpeed,"",function(){a.trigger("nivo:animFinished")})},100+d):setTimeout(function(){i.animate({width:n,opacity:"1.0"},e.animSpeed)},100+d),d+=50,l++});else if("fade"===o)h(a,e,r),m=t(".nivo-slice:first",a),m.css({width:a.width()+"px"}),m.animate({opacity:"1.0"},2*e.animSpeed,"",function(){a.trigger("nivo:animFinished")});else if("slideInRight"===o)h(a,e,r),m=t(".nivo-slice:first",a),m.css({width:"0px",opacity:"1"}),m.animate({width:a.width()+"px"},2*e.animSpeed,"",function(){a.trigger("nivo:animFinished")});else if("slideInLeft"===o)h(a,e,r),m=t(".nivo-slice:first",a),m.css({width:"0px",opacity:"1",left:"",right:"0px"}),m.animate({width:a.width()+"px"},2*e.animSpeed,"",function(){m.css({left:"0px",right:""}),a.trigger("nivo:animFinished")});else if("boxRandom"===o)g(a,e,r),u=e.boxCols*e.boxRows,l=0,d=0,v=x(t(".nivo-box",a)),v.each(function(){var i=t(this);l===u-1?setTimeout(function(){i.animate({opacity:"1"},e.animSpeed,"",function(){a.trigger("nivo:animFinished")})},100+d):setTimeout(function(){i.animate({opacity:"1"},e.animSpeed)},100+d),d+=20,l++});else if("boxRain"===o||"boxRainReverse"===o||"boxRainGrow"===o||"boxRainGrowReverse"===o){g(a,e,r),u=e.boxCols*e.boxRows,l=0,d=0;var b=0,w=0,I=[];I[b]=[],v=t(".nivo-box",a),"boxRainReverse"!==o&&"boxRainGrowReverse"!==o||(v=t(".nivo-box",a)._reverse()),v.each(function(){I[b][w]=t(this),w++,w===e.boxCols&&(b++,w=0,I[b]=[])});for(var y=0;y<2*e.boxCols;y++){for(var S=y,R=0;R<e.boxRows;R++)S>=0&&S<e.boxCols&&(!function(i,n,r,c,s){var d=t(I[i][n]),l=d.width(),p=d.height();"boxRainGrow"!==o&&"boxRainGrowReverse"!==o||d.width(0).height(0),c===s-1?setTimeout(function(){d.animate({opacity:"1",width:l,height:p},e.animSpeed/1.3,"",function(){a.trigger("nivo:animFinished")})},100+r):setTimeout(function(){d.animate({opacity:"1",width:l,height:p},e.animSpeed/1.3)},100+r)}(R,S,d,l,u),l++),S--;d+=100}}},x=function(t){for(var a,i,e=t.length;e;a=parseInt(Math.random()*e,10),i=t[--e],t[e]=t[a],t[a]=i);return t},b=function(t){this.console&&"undefined"!=typeof console.log&&console.log(t)};return this.stop=function(){t(a).data("nivo:vars").stop||(t(a).data("nivo:vars").stop=!0,b("Stop Slider"))},this.start=function(){t(a).data("nivo:vars").stop&&(t(a).data("nivo:vars").stop=!1,b("Start Slider"))},e.afterLoad.call(this),this};t.fn.nivoSlider=function(i){return this.each(function(){var e=t(this);if(e.data("nivoslider"))return e.data("nivoslider");var n=new a(this,i);e.data("nivoslider",n)})},t.fn.nivoSlider.defaults={effect:"random",textFrameWidth:"100%",captionDelay:200,slices:15,boxCols:8,boxRows:4,animSpeed:500,pauseTime:3e3,startSlide:0,directionNav:!0,controlNav:!0,controlNavThumbs:!1,pauseOnHover:!0,manualAdvance:!1,prevText:"Prev",nextText:"Next",randomStart:!1,beforeChange:function(){},afterChange:function(){},slideshowEnd:function(){},lastSlide:function(){},afterLoad:function(){}},t.fn._reverse=[].reverse}(jQuery);